{
  "version": "1.0.0",
  "patterns": [
    {
      "id": "auth-jwt-middleware",
      "category": "auth",
      "subcategory": "jwt",
      "name": "JWT Authentication Middleware",
      "description": "Express middleware that validates JWT tokens from Authorization header",
      "locations": [
        { "file": "src/middleware/auth.ts", "line": 15 },
        { "file": "src/middleware/auth.ts", "line": 42 }
      ],
      "expectedConfidence": "high",
      "importance": "critical"
    },
    {
      "id": "error-async-handler",
      "category": "errors",
      "subcategory": "async-handling",
      "name": "Async Error Handler Wrapper",
      "description": "Wrapper function that catches async errors and passes to Express error handler",
      "locations": [
        { "file": "src/utils/asyncHandler.ts", "line": 8 }
      ],
      "expectedConfidence": "high",
      "importance": "critical"
    },
    {
      "id": "api-rest-controller",
      "category": "api",
      "subcategory": "rest",
      "name": "REST Controller Pattern",
      "description": "Controller functions that handle HTTP requests with standard CRUD operations",
      "locations": [
        { "file": "src/controllers/userController.ts", "line": 12 },
        { "file": "src/controllers/userController.ts", "line": 28 },
        { "file": "src/controllers/userController.ts", "line": 45 },
        { "file": "src/controllers/userController.ts", "line": 62 },
        { "file": "src/controllers/productController.ts", "line": 10 },
        { "file": "src/controllers/productController.ts", "line": 25 }
      ],
      "expectedConfidence": "high",
      "importance": "important"
    },
    {
      "id": "data-access-prisma",
      "category": "data-access",
      "subcategory": "orm",
      "name": "Prisma Data Access Pattern",
      "description": "Database queries using Prisma client with standard CRUD operations",
      "locations": [
        { "file": "src/services/userService.ts", "line": 8 },
        { "file": "src/services/userService.ts", "line": 18 },
        { "file": "src/services/userService.ts", "line": 28 },
        { "file": "src/services/productService.ts", "line": 6 },
        { "file": "src/services/productService.ts", "line": 15 }
      ],
      "expectedConfidence": "high",
      "importance": "important"
    },
    {
      "id": "error-custom-class",
      "category": "errors",
      "subcategory": "custom-errors",
      "name": "Custom Error Classes",
      "description": "Application-specific error classes extending base Error",
      "locations": [
        { "file": "src/errors/AppError.ts", "line": 5 },
        { "file": "src/errors/NotFoundError.ts", "line": 3 },
        { "file": "src/errors/ValidationError.ts", "line": 3 }
      ],
      "expectedConfidence": "high",
      "importance": "important"
    },
    {
      "id": "config-env-pattern",
      "category": "config",
      "subcategory": "environment",
      "name": "Environment Configuration Pattern",
      "description": "Configuration loaded from environment variables with defaults",
      "locations": [
        { "file": "src/config/index.ts", "line": 3 }
      ],
      "expectedConfidence": "medium",
      "importance": "nice-to-have"
    }
  ],
  "outliers": [
    {
      "patternId": "error-async-handler",
      "location": { "file": "src/controllers/legacyController.ts", "line": 15 },
      "reason": "Legacy controller doesn't use asyncHandler wrapper, errors may not be caught",
      "severity": "warning",
      "intentional": false
    },
    {
      "patternId": "auth-jwt-middleware",
      "location": { "file": "src/routes/public.ts", "line": 8 },
      "reason": "Public routes intentionally skip auth middleware",
      "severity": "info",
      "intentional": true
    }
  ],
  "falsePositiveTraps": [
    {
      "wouldDetectAs": {
        "category": "auth",
        "name": "JWT Middleware"
      },
      "location": { "file": "src/utils/tokenHelper.ts", "line": 12 },
      "explanation": "This is a token generation utility, not auth middleware. It creates tokens but doesn't validate them in request flow."
    }
  ]
}
